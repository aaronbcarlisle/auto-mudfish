# Auto Mudfish - Project Structure

This document describes the organized folder structure of the Auto Mudfish VPN automation project.

## 📁 Directory Structure

```
auto-mudfish/
├── src/                          # Source code
│   ├── auto_mudfish/            # Main package
│   │   ├── __init__.py
│   │   ├── automate_mudfish.py  # Main automation logic
│   │   ├── connection.py        # VPN connection management
│   │   ├── credentials.py       # Secure credential storage
│   │   ├── driver.py           # Chrome WebDriver management
│   │   └── process.py          # Mudfish process management
│   ├── gui/                    # GUI application
│   │   └── gui.py             # PyQt6 GUI interface
│   ├── launcher.py            # Unified launcher (GUI/CLI)
│   └── main.py                # CLI interface
├── scripts/                    # Build and utility scripts
│   ├── batch/                 # Batch files
│   │   ├── setup_credentials.bat
│   │   ├── start_mudfish.bat
│   │   └── start_mudfish.cmd
│   ├── build.bat             # Main build script
│   ├── build_exe.py          # PyInstaller build script
│   └── create_icon.py        # Icon generation script
├── tests/                     # Test files
│   ├── __init__.py
│   ├── test_driver.py
│   ├── test_mudfish_connection.py
│   └── test_mudfish_process.py
├── docs/                      # Documentation
│   └── STRUCTURE.md          # This file
├── assets/                    # Static assets
│   ├── chromedriver/         # ChromeDriver binaries
│   └── icon.ico              # Application icon
├── dist/                      # Build output (gitignored)
├── build/                     # Build artifacts (gitignored)
├── venv/                      # Virtual environment (gitignored)
├── main.py                    # Root CLI entry point
├── gui.py                     # Root GUI entry point
├── launcher.py                # Root launcher entry point
├── README.md                  # Main documentation
├── requirements.txt           # Python dependencies
└── .gitignore                 # Git ignore rules
```

## 🚀 Entry Points

### Root Level Entry Points
- **`main.py`** - CLI interface entry point
- **`gui.py`** - GUI application entry point  
- **`launcher.py`** - Unified launcher (supports both GUI and CLI)

### Usage Examples
```bash
# CLI interface
python main.py --use-stored

# GUI application
python gui.py

# Unified launcher
python launcher.py              # GUI
python launcher.py --cli        # CLI
```

## 📦 Source Code Organization

### `src/auto_mudfish/` - Core Package
- **`automate_mudfish.py`** - Main automation workflow
- **`connection.py`** - VPN connection management and WebDriver automation
- **`credentials.py`** - Secure credential storage using Windows DPAPI
- **`driver.py`** - Chrome WebDriver management and ChromeDriver downloading
- **`process.py`** - Mudfish process detection and launching

### `src/gui/` - GUI Application
- **`gui.py`** - PyQt6-based graphical user interface with tabs for:
  - Main controls (connect/disconnect)
  - Credential management
  - Settings and preferences
  - Real-time logging

## 🛠️ Build System

### `scripts/` - Build and Utility Scripts
- **`build.bat`** - Main build script for Windows
- **`build_exe.py`** - PyInstaller configuration for executable creation
- **`create_icon.py`** - Application icon generation
- **`batch/`** - Windows batch files for easy execution

### Build Process
```bash
# Run the build script
scripts\build.bat

# Or manually
python scripts\create_icon.py
python scripts\build_exe.py
```

## 🧪 Testing

### `tests/` - Test Suite
- **`test_driver.py`** - ChromeDriver management tests
- **`test_mudfish_connection.py`** - Connection management tests
- **`test_mudfish_process.py`** - Process management tests

### Running Tests
```bash
# Run all tests
python -m pytest tests/

# Run specific test
python -m pytest tests/test_driver.py
```

## 📚 Documentation

### `docs/` - Documentation
- **`STRUCTURE.md`** - This project structure documentation

### Main Documentation
- **`README.md`** - Main project documentation with usage instructions

## 🎨 Assets

### `assets/` - Static Assets
- **`chromedriver/`** - ChromeDriver binaries for different versions
- **`icon.ico`** - Application icon (generated by build script)

## 🔧 Development Workflow

### 1. Development
```bash
# Activate virtual environment
venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Run GUI for development
python gui.py

# Run CLI for testing
python main.py --debug
```

### 2. Building
```bash
# Build executable
scripts\build.bat

# Output will be in dist/ folder
```

### 3. Testing
```bash
# Run tests
python -m pytest tests/

# Run with coverage
python -m pytest tests/ --cov=src/auto_mudfish
```

## 📋 Benefits of This Structure

1. **Clean Separation** - Source code, scripts, tests, and docs are clearly separated
2. **Easy Navigation** - Logical grouping makes it easy to find files
3. **Maintainable** - Clear structure makes maintenance easier
4. **Scalable** - Easy to add new modules or features
5. **Professional** - Follows Python project best practices
6. **Build-Friendly** - Clear separation of build artifacts and source code

## 🔄 Migration Notes

The project was reorganized from a flat structure to this organized structure. All import paths have been updated to work with the new structure, and entry points have been created to maintain backward compatibility.
